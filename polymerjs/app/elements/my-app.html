<link rel="import" href="../bower_components/carbon-route/carbon-location.html">
<link rel="import" href="../bower_components/carbon-route/carbon-route.html">

<link rel="import" href="../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../bower_components/iron-selector/iron-selector.html">

<link rel="import" href="../styles/app-theme.html">
<link rel="import" href="my-greeting.html">

<dom-module id="my-app">
  <template>
    <style>
      .paper-item-link {
        color: inherit;
        text-decoration: none;
      }
    </style>

    <carbon-location route="{{route}}" use-hash-as-path></carbon-location>

    <carbon-route route="{{route}}" pattern="/:page" data="{{routeData}}"></carbon-route>

    <paper-header-panel>
      <paper-toolbar>
        <span class="title">Title</span>
      </paper-toolbar>
      <iron-pages attr-for-selected="data-route" selected="{{routeData.page}}" fallback-selection="not-found">
        <section data-route="">
          <a class="paper-item-link" href="#/greeting">
            <paper-item>Go To Greeting</paper-item>
          </a>
        </section>
        <section data-route="greeting">
          <my-greeting></my-greeting>
        </section>
        <section data-route="not-found">
          NOT FOUND
        </section>
      </iron-pages>
    </paper-header-panel>
  </template>
  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'my-app',

        observers: [
          '_updateScroll(route)'
        ],

        attached: function() {
          if (!this.route.path) {
            this.set('route.path', '/');
          }
        },

        _updateScroll: function() {
          window.scroll(0, 0);
        }
      });
    })();
  </script>
</dom-module>
